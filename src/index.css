@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Nunito:wght@400;500;600;700&display=swap');

/* ─── Themes ──────────────────────────────────── */
[data-theme="light"] {
  --bg: #f0f7f2;
  --bg-card: #fdfffc;
  --bg-header: linear-gradient(135deg, #1a4731, #2d7a4f);
  --bg-sidebar: linear-gradient(160deg, #1a4731, #2d7a4f);
  --bg-table-head: #1a4731;
  --text: #1c2b22;
  --text-mid: #4a6358;
  --text-light: #7a9a87;
  --text-header: #fff;
  --border: rgba(77,175,125,0.2);
  --green-mid: #2d7a4f;
  --green-light: #4caf7d;
  --green-pale: #e8f5ee;
  --accent: #f4a234;
  --accent-light: #fff8ed;
  --shadow-sm: 0 2px 8px rgba(26,71,49,0.08);
  --shadow-md: 0 6px 24px rgba(26,71,49,0.13);
  --skeleton-base: #e2ede7;
  --skeleton-shine: #f0f7f2;
  --input-bg: #fafafa;
  --input-border: #dde;
  --row-hover: #f5fbf7;
}

[data-theme="dark"] {
  --bg: #0f1f17;
  --bg-card: #1a2d22;
  --bg-header: linear-gradient(135deg, #0a1a10, #1a3d2a);
  --bg-sidebar: linear-gradient(160deg, #0a1a10, #1a3d2a);
  --bg-table-head: #0a1a10;
  --text: #e0f0e8;
  --text-mid: #9abea8;
  --text-light: #5a8a6a;
  --text-header: #e0f0e8;
  --border: rgba(77,175,125,0.15);
  --green-mid: #3d9e68;
  --green-light: #5ccc8e;
  --green-pale: #1a3027;
  --accent: #f4a234;
  --accent-light: #2a1f0a;
  --shadow-sm: 0 2px 8px rgba(0,0,0,0.3);
  --shadow-md: 0 6px 24px rgba(0,0,0,0.4);
  --skeleton-base: #1e3028;
  --skeleton-shine: #253d30;
  --input-bg: #152018;
  --input-border: #2a4035;
  --row-hover: #1e3028;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'Nunito', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  transition: background 0.3s, color 0.3s;
}

/* ─── Layout ─────────────────────────────────── */
.layout { display: flex; flex-direction: column; min-height: 100vh; }

.header {
  background: var(--bg-header);
  padding: 16px 32px;
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
}
.header-inner {
  max-width: 1280px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.brand {
  background: none; border: none; cursor: pointer;
  display: flex; align-items: center; gap: 12px;
}
.brand-icon { font-size: 2rem; }
.brand-title {
  display: block;
  font-family: 'Playfair Display', serif;
  font-size: 1.6rem;
  color: var(--text-header);
  line-height: 1.1;
}
.brand-sub {
  display: block;
  font-size: 0.72rem;
  color: rgba(255,255,255,0.6);
  text-transform: uppercase;
  letter-spacing: 1px;
}
.nav { display: flex; align-items: center; gap: 8px; }
.nav-link {
  color: rgba(255,255,255,0.75);
  text-decoration: none;
  padding: 8px 16px;
  border-radius: 20px;
  font-weight: 600;
  font-size: 0.9rem;
  transition: all 0.2s;
}
.nav-link:hover { color: white; background: rgba(255,255,255,0.1); }
.nav-link--active { color: white; background: rgba(255,255,255,0.2); }
.theme-toggle {
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 50%;
  width: 36px; height: 36px;
  font-size: 1.1rem;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: background 0.2s, transform 0.2s;
}
.theme-toggle:hover { background: rgba(255,255,255,0.2); transform: rotate(20deg); }

.page-content { flex: 1; }

.footer {
  text-align: center;
  padding: 20px;
  color: var(--text-light);
  font-size: 0.85rem;
  border-top: 1px solid var(--border);
  margin-top: 40px;
}

/* ─── Toasts ──────────────────────────────────── */
.toast-container {
  position: fixed;
  bottom: 24px;
  right: 24px;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-width: 360px;
}
.toast {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--bg-card);
  border-radius: 12px;
  padding: 14px 16px;
  box-shadow: var(--shadow-md);
  border-left: 4px solid var(--green-mid);
  animation: slideIn 0.3s ease;
}
.toast--success { border-color: #4caf7d; }
.toast--error { border-color: #e55; }
.toast--info { border-color: var(--accent); }
.toast-icon { font-size: 1.1rem; flex-shrink: 0; }
.toast-message { flex: 1; font-size: 0.88rem; color: var(--text); font-weight: 600; }
.toast-close {
  background: none; border: none; color: var(--text-light);
  cursor: pointer; font-size: 0.85rem; padding: 2px 4px;
  border-radius: 4px; transition: color 0.2s;
}
.toast-close:hover { color: var(--text); }

@keyframes slideIn {
  from { opacity: 0; transform: translateX(40px); }
  to { opacity: 1; transform: translateX(0); }
}

/* ─── Buttons ─────────────────────────────────── */
.btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 6px; padding: 10px 20px; border-radius: 30px;
  font-family: 'Nunito', sans-serif; font-weight: 700; font-size: 0.88rem;
  cursor: pointer; border: none; transition: all 0.2s ease; white-space: nowrap;
}
.btn--primary { background: var(--green-mid); color: white; }
.btn--primary:hover { filter: brightness(1.1); transform: translateY(-1px); box-shadow: var(--shadow-sm); }
.btn--primary:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
.btn--outline { background: transparent; color: var(--green-mid); border: 1.5px solid var(--green-mid); }
.btn--outline:hover { background: var(--green-pale); transform: translateY(-1px); }
.btn--full { width: 100%; margin-top: 8px; padding: 13px; font-size: 1rem; }
.btn--load-more {
  background: var(--bg-card); color: var(--green-mid);
  border: 1.5px solid var(--green-mid); padding: 12px 32px; font-size: 0.95rem;
}
.btn--load-more:hover { background: var(--green-pale); transform: translateY(-1px); }

/* ─── Skeleton ────────────────────────────────── */
.skeleton {
  background: linear-gradient(90deg, var(--skeleton-base) 25%, var(--skeleton-shine) 50%, var(--skeleton-base) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.4s infinite;
  border-radius: 6px;
}
@keyframes shimmer {
  from { background-position: 200% 0; }
  to { background-position: -200% 0; }
}
.skeleton-card { gap: 12px !important; }
.skeleton--title { height: 22px; width: 80%; }
.skeleton--text { height: 14px; width: 100%; }
.skeleton--short { width: 60%; }
.skeleton--meta { height: 14px; width: 70%; margin-top: 4px; }
.skeleton--actions { height: 36px; width: 100%; border-radius: 20px !important; margin-top: 4px; }
.skeleton--row { height: 16px; width: 100%; }

/* ─── Home Page ──────────────────────────────── */
.home-page { max-width: 1280px; margin: 0 auto; padding: 0 24px 48px; }
.page-hero { text-align: center; padding: 48px 20px 32px; }
.page-hero-title {
  font-family: 'Playfair Display', serif;
  font-size: 2.4rem; color: var(--green-mid); margin-bottom: 10px;
}
.page-hero-sub { color: var(--text-mid); font-size: 1.05rem; }

.filters-bar { display: flex; align-items: center; gap: 12px; margin-bottom: 24px; flex-wrap: wrap; }
.search-wrapper { position: relative; flex: 1; min-width: 200px; }
.search-icon { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); font-size: 0.9rem; }
.search-input {
  width: 100%; padding: 11px 40px 11px 38px;
  border: 1.5px solid var(--border); border-radius: 30px;
  font-family: 'Nunito', sans-serif; font-size: 0.92rem;
  background: var(--input-bg); color: var(--text);
  outline: none; transition: border-color 0.2s, box-shadow 0.2s;
}
.search-input:focus { border-color: var(--green-light); box-shadow: 0 0 0 3px rgba(76,175,125,0.15); }
.search-input::placeholder { color: var(--text-light); }
.search-clear {
  position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
  background: none; border: none; color: var(--text-light);
  cursor: pointer; font-size: 0.85rem; padding: 2px 4px; border-radius: 50%; transition: color 0.2s;
}
.search-clear:hover { color: var(--text); }

.fav-filter-btn {
  background: var(--accent-light); color: var(--accent);
  border: 1.5px solid var(--accent); padding: 10px 18px; border-radius: 30px;
  font-family: 'Nunito', sans-serif; font-weight: 700; font-size: 0.88rem;
  cursor: pointer; transition: all 0.2s; white-space: nowrap;
}
.fav-filter-btn:hover { filter: brightness(0.95); }
.fav-filter-btn--active { background: var(--accent); color: white; }
.results-count { color: var(--text-light); font-size: 0.85rem; white-space: nowrap; margin-left: auto; }

.events-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }

/* ─── Event Card ──────────────────────────────── */
.event-card {
  background: var(--bg-card); border-radius: 14px; padding: 20px;
  border: 1.5px solid var(--border); box-shadow: var(--shadow-sm);
  display: flex; flex-direction: column; gap: 10px;
  transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
}
.event-card:hover { transform: translateY(-3px); box-shadow: var(--shadow-md); border-color: var(--green-light); }
.event-card--favorite { border-color: var(--accent); }
.event-card-header { display: flex; justify-content: space-between; align-items: flex-start; gap: 8px; }
.event-title { font-family: 'Playfair Display', serif; font-size: 1rem; color: var(--green-mid); line-height: 1.35; }
.fav-btn { background: none; border: none; font-size: 1.3rem; cursor: pointer; color: var(--text-light); padding: 0; line-height: 1; transition: color 0.2s, transform 0.15s; flex-shrink: 0; }
.fav-btn:hover { color: var(--accent); transform: scale(1.2); }
.fav-btn--active { color: var(--accent); }
.event-desc { font-size: 0.85rem; color: var(--text-mid); line-height: 1.55; flex: 1; }
.event-meta { display: flex; flex-direction: column; gap: 4px; font-size: 0.8rem; color: var(--text-light); border-top: 1px solid var(--green-pale); padding-top: 10px; }
.event-actions { display: flex; gap: 8px; margin-top: 4px; }
.event-actions .btn { flex: 1; font-size: 0.82rem; padding: 8px 12px; }

.empty-state { display: flex; flex-direction: column; align-items: center; gap: 12px; padding: 80px; color: var(--text-light); }
.empty-state span { font-size: 2.5rem; }
.error-state { display: flex; flex-direction: column; align-items: center; gap: 16px; padding: 60px; color: var(--text-mid); text-align: center; }
.error-state span { font-size: 2.5rem; }

.load-more-wrapper { text-align: center; margin-top: 32px; }

/* ─── Register Page ───────────────────────────── */
.register-page { max-width: 1100px; margin: 0 auto; padding: 40px 24px 60px; }
.register-layout { display: grid; grid-template-columns: 340px 1fr; gap: 32px; align-items: start; }
.event-info-card { background: var(--bg-sidebar); color: white; border-radius: 14px; padding: 28px; position: sticky; top: 90px; }
.event-info-label { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1.2px; color: rgba(255,255,255,0.6); margin-bottom: 10px; }
.event-info-title { font-family: 'Playfair Display', serif; font-size: 1.4rem; line-height: 1.35; margin-bottom: 20px; }
.event-info-meta { display: flex; flex-direction: column; gap: 10px; margin-bottom: 18px; }
.event-info-row { display: flex; align-items: flex-start; gap: 10px; font-size: 0.9rem; color: rgba(255,255,255,0.85); }
.event-info-desc { font-size: 0.85rem; color: rgba(255,255,255,0.7); line-height: 1.6; margin-bottom: 24px; }
.back-link { color: rgba(255,255,255,0.7); font-size: 0.85rem; text-decoration: none; transition: color 0.2s; }
.back-link:hover { color: white; }
.register-form-wrapper { background: var(--bg-card); border-radius: 14px; padding: 32px; box-shadow: var(--shadow-sm); border: 1px solid var(--border); }
.form-title { font-family: 'Playfair Display', serif; font-size: 1.5rem; color: var(--green-mid); margin-bottom: 28px; }
.register-form { display: flex; flex-direction: column; gap: 20px; }
.form-field { display: flex; flex-direction: column; gap: 6px; }
.form-label { font-size: 0.88rem; font-weight: 700; color: var(--text-mid); }
.form-input {
  padding: 12px 16px; border: 1.5px solid var(--input-border); border-radius: 8px;
  font-family: 'Nunito', sans-serif; font-size: 0.95rem;
  color: var(--text); background: var(--input-bg);
  outline: none; transition: border-color 0.2s, box-shadow 0.2s, background 0.2s;
}
.form-input:focus { border-color: var(--green-light); background: var(--bg-card); box-shadow: 0 0 0 3px rgba(76,175,125,0.12); }
.form-select { appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%237a9a87' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 16px center; padding-right: 40px; }
.form-field--error .form-input { border-color: #e55; }
.form-error { font-size: 0.8rem; color: #e55; font-weight: 600; }
.form-server-error { background: rgba(220,50,50,0.08); border: 1px solid rgba(220,50,50,0.3); color: #e55; padding: 12px 16px; border-radius: 8px; font-size: 0.9rem; }

/* ─── Success ─────────────────────────────────── */
.success-page { display: flex; align-items: center; justify-content: center; min-height: 60vh; padding: 40px; }
.success-card { background: var(--bg-card); border-radius: 14px; padding: 48px 40px; text-align: center; box-shadow: var(--shadow-md); max-width: 480px; width: 100%; }
.success-icon { font-size: 3.5rem; margin-bottom: 16px; }
.success-card h2 { font-family: 'Playfair Display', serif; font-size: 1.6rem; color: var(--green-mid); margin-bottom: 12px; }
.success-card p { color: var(--text-mid); margin-bottom: 28px; }
.success-actions { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }

/* ─── Participants Page ───────────────────────── */
.participants-page { max-width: 1100px; margin: 0 auto; padding: 40px 24px 60px; }
.participants-header { display: flex; align-items: flex-start; justify-content: space-between; gap: 20px; margin-bottom: 20px; flex-wrap: wrap; }
.back-btn { background: none; border: none; color: var(--green-mid); font-family: 'Nunito', sans-serif; font-size: 0.9rem; font-weight: 700; cursor: pointer; padding: 10px 0; white-space: nowrap; transition: color 0.2s; }
.back-btn:hover { color: var(--text); }
.participants-event-info { flex: 1; }
.participants-title { font-family: 'Playfair Display', serif; font-size: 1.6rem; color: var(--green-mid); margin-bottom: 10px; }
.participants-meta { display: flex; gap: 16px; color: var(--text-mid); font-size: 0.88rem; flex-wrap: wrap; }
.badge-count { background: var(--green-pale); color: var(--green-mid); padding: 3px 10px; border-radius: 20px; font-weight: 700; }
.participants-search { margin-bottom: 20px; }
.participants-search .search-wrapper { max-width: 400px; }

.participants-table-wrapper { background: var(--bg-card); border-radius: 14px; overflow: hidden; box-shadow: var(--shadow-sm); border: 1px solid var(--border); overflow-x: auto; }
.participants-table { width: 100%; border-collapse: collapse; font-size: 0.88rem; }
.participants-table thead { background: var(--bg-table-head); color: white; }
.participants-table th { padding: 14px 18px; text-align: left; font-weight: 700; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.5px; }
.participants-table td { padding: 13px 18px; border-bottom: 1px solid var(--green-pale); color: var(--text); }
.participants-row:last-child td { border-bottom: none; }
.participants-row:hover td { background: var(--row-hover); }
.row-num { color: var(--text-light); font-size: 0.8rem; width: 40px; }
.row-name { display: flex; align-items: center; gap: 10px; font-weight: 600; }
.avatar { width: 32px; height: 32px; border-radius: 50%; background: var(--green-pale); color: var(--green-mid); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.85rem; flex-shrink: 0; }
.row-email { color: var(--text-mid); }
.source-badge { background: var(--green-pale); color: var(--green-mid); padding: 3px 10px; border-radius: 20px; font-size: 0.78rem; font-weight: 700; }
.row-date { color: var(--text-light); }

/* ─── 404 ─────────────────────────────────────── */
.not-found-page { display: flex; align-items: center; justify-content: center; min-height: 60vh; padding: 40px; }
.not-found-card { text-align: center; display: flex; flex-direction: column; align-items: center; gap: 14px; }
.not-found-emoji { font-size: 4rem; }
.not-found-card h2 { font-family: 'Playfair Display', serif; font-size: 1.8rem; color: var(--green-mid); }
.not-found-card p { color: var(--text-mid); }

/* ─── Responsive ──────────────────────────────── */
@media (max-width: 768px) {
  .header { padding: 14px 16px; }
  .register-layout { grid-template-columns: 1fr; }
  .event-info-card { position: static; }
  .participants-header { flex-direction: column; }
  .page-hero-title { font-size: 1.8rem; }
  .events-grid { grid-template-columns: 1fr; }
  .success-actions { flex-direction: column; }
  .success-actions .btn { width: 100%; }
  .toast-container { left: 16px; right: 16px; bottom: 16px; }
}
@media (max-width: 480px) {
  .home-page, .register-page, .participants-page { padding-left: 12px; padding-right: 12px; }
  .register-form-wrapper { padding: 20px; }
}